{
  "table_name": "patient_clinical_events",
  "description": "Central clinical events table using O3's two-axis classification model",
  "purpose": "Core hub for all clinical facts - every medical observation and intervention must be classified here",
  
  "required_fields": {
    "activity_type": {
      "type": "string",
      "enum": ["observation", "intervention"],
      "description": "Must be 'observation' (for information gathering) or 'intervention' (for actions taken)",
      "examples": {
        "observation": ["Blood pressure reading", "Lab test result", "Physical exam finding"],
        "intervention": ["Medication administration", "Surgery", "Vaccination"]
      }
    },
    
    "clinical_purposes": {
      "type": "array",
      "items": {
        "type": "string",
        "enum": ["screening", "diagnostic", "therapeutic", "monitoring", "preventive"]
      },
      "min_items": 1,
      "description": "At least one clinical purpose - can have multiple purposes",
      "examples": [
        ["screening"],
        ["diagnostic", "monitoring"],
        ["therapeutic", "monitoring"]
      ]
    },
    
    "event_name": {
      "type": "string",
      "min_length": 5,
      "description": "Descriptive, specific name for the clinical event",
      "examples": [
        "Blood Pressure Measurement",
        "Complete Blood Count",
        "Influenza Vaccination",
        "Appendectomy",
        "Diabetes Monitoring Visit"
      ],
      "avoid": ["Test", "Procedure", "Medication", "Treatment"]
    },
    
    "event_date": {
      "type": "string",
      "format": "ISO 8601 datetime",
      "description": "When the clinical event occurred",
      "example": "2024-07-15T10:30:00Z"
    },
    
    "confidence_score": {
      "type": "number",
      "minimum": 0,
      "maximum": 1,
      "description": "AI confidence in extraction accuracy (0.0-1.0)"
    }
  },
  
  "optional_fields": {
    "method": {
      "type": "string",
      "enum": ["physical_exam", "laboratory", "imaging", "injection", "surgery", "assessment_tool"],
      "description": "How the clinical event was performed or observed"
    },
    
    "body_site": {
      "type": "string",
      "description": "Anatomical location where event occurred",
      "examples": ["left_arm", "chest", "left_ear", "abdomen", "brain"]
    },
    
    "performed_by": {
      "type": "string",
      "description": "Healthcare provider or facility who performed the event"
    },
    
    "snomed_code": {
      "type": "string",
      "pattern": "^[0-9]+$",
      "description": "SNOMED CT code if you can identify one with high confidence"
    },
    
    "loinc_code": {
      "type": "string", 
      "pattern": "^[0-9]+-[0-9]+$",
      "description": "LOINC code for observations and lab tests if identifiable"
    },
    
    "cpt_code": {
      "type": "string",
      "pattern": "^[0-9]{5}$", 
      "description": "CPT code for procedures if identifiable"
    }
  },
  
  "validation_rules": {
    "confidence_threshold": 0.7,
    "requires_review_below": 0.8,
    "safety_critical": false,
    "quality_checks": [
      "event_name must be descriptive and specific",
      "activity_type must match the nature of the event",
      "clinical_purposes must be relevant to the event",
      "if method is provided, it must be logical for the activity_type"
    ]
  },
  
  "output_format_example": {
    "activity_type": "observation",
    "clinical_purposes": ["diagnostic"],
    "event_name": "Complete Blood Count",
    "method": "laboratory",
    "event_date": "2024-07-15T09:00:00Z",
    "performed_by": "City Hospital Lab",
    "confidence_score": 0.92
  },
  
  "common_patterns": {
    "vital_signs": {
      "activity_type": "observation",
      "typical_purposes": ["monitoring", "screening"],
      "common_methods": ["physical_exam"],
      "examples": ["Blood Pressure Measurement", "Heart Rate Check", "Temperature Reading"]
    },
    
    "lab_tests": {
      "activity_type": "observation", 
      "typical_purposes": ["diagnostic", "monitoring"],
      "common_methods": ["laboratory"],
      "examples": ["Complete Blood Count", "Lipid Panel", "Glucose Test"]
    },
    
    "medications": {
      "activity_type": "intervention",
      "typical_purposes": ["therapeutic", "preventive"],
      "common_methods": ["injection", "physical_exam"],
      "examples": ["Influenza Vaccination", "Antibiotic Administration", "Pain Medication"]
    },
    
    "procedures": {
      "activity_type": "intervention",
      "typical_purposes": ["therapeutic", "diagnostic"],
      "common_methods": ["surgery", "injection"],
      "examples": ["Appendectomy", "Biopsy", "Cryotherapy"]
    }
  }
}